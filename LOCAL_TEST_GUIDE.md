# ローカル環境テストガイド

## 🚀 開発環境の起動

```bash
# 開発サーバー起動
npm run dev

# ブラウザで以下にアクセス
http://localhost:5173
```

## 🔑 テストアカウント

### 管理者アカウント
- **メール**: admin@test.com  
- **パスワード**: password123
- **権限**: 全機能アクセス可能

### 一般ユーザーアカウント  
- **メール**: user@test.com
- **パスワード**: password123
- **権限**: 投稿・閲覧機能のみ

## 📋 検証すべき実装機能

### 1. 管理者用紐付けインターフェース
**アクセス方法:**
```
http://localhost:5173/login → admin@test.comでログイン
↓
http://localhost:5173/admin/episodes
↓
任意のエピソードの「紐付け管理」ボタンをクリック
```

**確認項目:**
- [ ] エピソード詳細情報の表示
- [ ] 店舗リンク機能（モーダル表示・検索・選択・保存）
- [ ] アイテムリンク機能（モーダル表示・検索・選択・保存）
- [ ] 自動マッチング機能の実行ボタン
- [ ] 信頼度スコア付きの自動提案表示
- [ ] リンクの削除機能

### 2. 自動マッチングシステム
**テスト方法:**
```
管理者でログイン → エピソード詳細 → 「自動マッチング実行」ボタン
```

**確認項目:**
- [ ] エピソードタイトル・説明の解析実行
- [ ] 店舗マッチング結果の表示（信頼度30-100%）
- [ ] アイテムマッチング結果の表示（信頼度30-100%）
- [ ] 「採用」ボタンで自動リンク作成
- [ ] マッチング履歴の保存

### 3. ユーザー投稿機能拡張
**アクセス方法:**
```
http://localhost:5173/login → user@test.comでログイン
↓
http://localhost:5173/submit
```

**確認項目:**
- [ ] 従来の投稿フォーム（画像・テキスト）
- [ ] 店舗情報セクションの表示
- [ ] 複数店舗の追加・削除機能
- [ ] アイテム情報セクションの表示  
- [ ] 複数アイテムの追加・削除機能
- [ ] 統合された投稿データの保存

### 4. よにのちゃんねるプロフィール強化
**アクセス方法（URL修正版）:**
```
http://localhost:5173/celebrities/よにのちゃんねる
```
**※エンコード問題がある場合:**
```
http://localhost:5173/
↓ トップページから「よにのちゃんねる」をクリック
```

**確認項目:**
- [ ] エピソード一覧の表示
- [ ] 各エピソードの店舗情報表示
- [ ] 各エピソードのアイテム情報表示
- [ ] 聖地巡礼マップ機能
- [ ] ファッション検索機能
- [ ] 予約リンク・購入リンクの動作

### 5. データベース連携確認
**確認方法:**
```bash
# データベース状態確認
npx tsx scripts/check-auth-status.ts

# 自動マッチング動作確認  
npx tsx scripts/auto-matching-system.ts

# リンク品質チェック
npx tsx scripts/link-quality-improvement.ts
```

## 🐛 トラブルシューティング

### Celebrity Page URLエラーの場合
日本語URLエンコード問題の可能性：
```javascript
// ブラウザのコンソールで確認
decodeURIComponent("よにのちゃんねる")
// または直接URLを入力
http://localhost:5173/celebrities/%E3%82%88%E3%81%AB%E3%81%AE%E3%81%A1%E3%82%83%E3%82%93%E3%81%AD%E3%82%8B
```

### ログインできない場合
```bash
# ユーザー再作成
npx tsx scripts/create-test-user.ts
```

### データが表示されない場合
```bash
# データベース接続確認
npx tsx scripts/check-auth-status.ts
```

## 🎯 重点確認ポイント

1. **管理者機能**: エピソードと店舗・アイテムのリンク作成
2. **自動マッチング**: AIによる内容解析と提案機能  
3. **ユーザー投稿**: 店舗・アイテム情報付き投稿
4. **統合表示**: よにのちゃんねるページでの情報統合表示
5. **リアルタイム更新**: データベース変更の即座反映

## 📝 問題報告フォーマット

問題が見つかった場合：
```
【機能】: 
【操作手順】: 
【期待結果】: 
【実際の結果】: 
【エラーメッセージ】: 
【ブラウザ】: 
```